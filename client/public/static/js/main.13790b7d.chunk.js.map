{"version":3,"sources":["common/constants/tabs.js","common/constants/colors.js","map/Marks.js","resources/station/station.selector.js","resources/tab/tab.selector.js","map/TinyMap.js","common/constants/baseURL.js","api/base.api.js","api/product.api.js","resources/product/product.types.js","resources/product/product.actions.js","resources/product/product.selector.js","resources/user/user.selector.js","resources/station/station.types.js","resources/station/station.actions.js","productChoice/ProductSearch.js","api/station.api.js","common/constants/defaultUser.js","common/components/tableConfig/StationDoneSwitch.js","common/components/tableConfig/tableColumns.js","productChoice/ProductTable.js","productChoice/ProductChoice.js","api/region.api.js","resources/region/region.types.js","resources/region/region.actions.js","resources/region/region.selector.js","regionChoice/RegionSearch.js","regionChoice/RegionTable.js","regionChoice/RegionChoice.js","newStation/NewStation.js","resources/user/user.types.js","Header/User.js","resources/user/user.actions.js","Header/Logo.js","Header/Header.js","resources/tab/tab.types.js","resources/tab/tab.actions.js","App.js","resources/user/user.reducer.js","resources/product/product.reducer.js","resources/region/region.reducer.js","resources/station/station.reducer.js","resources/tab/tab.reducer.js","resources/store.js","index.js","styles.module.css"],"names":["PRODUCT_TAB","REGION_TAB","colors","Mark","selectedStations","map","station","color","done","colorForMap","geometry","place","modules","properties","balloonContentHeader","stationName","balloonContent","productName","needCount","balloonContentFooter","region","options","preset","iconColor","StationSelector","getSelectedByProductStations","state","selectedByProductStations","getSelectedByRegionStations","selectedByRegionStations","TabSelector","getActiveTab","tab","activeTab","connect","className","styles","defaultState","center","zoom","Marks","BASE_URL","api","axios","create","baseURL","timeout","headers","getAllProducts","a","baseApi","get","SWITCH_ON_PRODUCT_TABLE_VISIBILITY","PUSH_SELECTED_PRODUCT_ID","INC_PRODUCT_COLOR_INDEX","ProductActions","switchOnProductTableVisibility","dispatch","type","pushSelectedProductId","productId","incProductColorIndex","predIndex","colorIndex","ProductSelector","getProductTableVisibility","product","productTableVisibility","getSelectedProductIds","selectedProductIds","getNextProductColorIndex","nextProductColorIndex","UserSelector","getCurrentUser","user","currentUser","PUSH_SELECTED_BY_PRODUCT_STATIONS","PUSH_SELECTED_BY_REGION_STATIONS","StationActions","pushSelectedByProductStations","fetch","_id","method","then","response","json","stationsData","pushSelectedByRegionStations","regionId","mapDispatchToProps","pushSelectedProductIds","incNextProductColor","nextProductColor","useState","productsInSearch","setProductsInSearch","allProducts","setAllProducts","selectedValue","setSelectedValue","useEffect","fetchProducts","ProductApi","productsData","productsForSearch","data","value","label","name","dropdownMatchSelectWidth","style","width","onSelect","includes","onSearch","newProducts","filter","toString","toLowerCase","indexOf","Search","size","placeholder","enterButton","postNewStation","newStationData","post","putStationDone","stationId","put","stationDone","Guest","onChange","checked","StationApi","defaultChecked","tableColumns","title","dataIndex","sorter","b","defaultSortOrder","render","StationDoneSwitch","columns","dataSource","productTableVisability","table","getAllRegions","SWITCH_ON_REGION_TABLE_VISIBILITY","PUSH_SELECTED_REGIONS_ID","INC_REGION_COLOR_INDEX","RegionActions","switchOnRegionTableVisibility","pushSelectedRegionId","incRegionColorIndex","RegionSelector","getRegionTableVisibility","regionTableVisibility","getSelectedRegionIds","selectedRegionIds","getNextRegionColorIndex","nextRegionColorIndex","pushSelectedRegionIds","nextRegionColor","regionsInSearch","setRegionsInSearch","allRegions","setAllRegions","fetchRegions","RegionApi","regionsData","regionsForSearch","console","log","regionName","newRegions","regionTableVisability","onFinish","userId","labelCol","span","wrapperCol","layout","onFinishFailed","errorInfo","Item","Option","valuePropName","Text","offset","htmlType","SET_CURRENT_USER","setCurrentUser","id","display","float","onClick","verticalAlign","margin","border","backgroundColor","Logo","height","Header","justifyContent","CHANGE_ACTIVE_TAB","TabActions","changeActiveTab","newActiveTabKey","TabPane","Tabs","app","menu","defaultActiveKey","key","initialState","userReducer","action","productReducer","regionReducer","StationReducer","tabReducer","reducers","combineReducers","stationReducer","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.13790b7d.chunk.js","sourcesContent":["export const PRODUCT_TAB = 'PRODUCT_TAB';\r\nexport const REGION_TAB = 'REGION_TAB';\r\nexport const CREATE_STATION_TAB = 'CREATE_STATION_TAB';","export const colors = [\r\n    '#dc143c',\r\n    '#3caa3c',\r\n    '#156fc1',\r\n    '#eaec35',\r\n    '#942010',\r\n    '#0b0038',\r\n    '#ffb21f',\r\n    '#ffbcb5v',\r\n    '#6ac954'\r\n];\r\n\r\nexport const gray = '#c0c0c0';","import React from \"react\";\r\nimport { Placemark } from 'react-yandex-maps';\r\nimport { colors, gray } from '../common/constants/colors';\r\n\r\nfunction Mark({ selectedStations }) {\r\n  return <div>\r\n    { selectedStations.map(station => {\r\n      const color = station.done ? gray : colors[station.colorForMap];\r\n\r\n      return <Placemark\r\n        geometry={station.place}\r\n        modules={['geoObject.addon.balloon', 'geoObject.addon.hint']}\r\n        properties={{\r\n          balloonContentHeader: `${station.stationName}`,\r\n          balloonContent: `Продукт: ${station.productName} --- ${station.done ? 'Выполнено!' : `Надо: ${station.needCount}`}`,\r\n          balloonContentFooter: station.region,\r\n        }}\r\n        options={{\r\n          preset: 'islands#circleIcon',\r\n          iconColor: color,\r\n        }}\r\n      /> })}\r\n  </div>\r\n}\r\n\r\nexport default Mark;","const StationSelector = {\r\n  getSelectedByProductStations: state => state.station.selectedByProductStations,\r\n  getSelectedByRegionStations: state => state.station.selectedByRegionStations,\r\n};\r\n\r\nexport default StationSelector;","const TabSelector = {\r\n  getActiveTab: state => state.tab.activeTab,\r\n};\r\n\r\nexport default TabSelector;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { YMaps, Map } from 'react-yandex-maps';\r\nimport styles from '../styles.module.css';\r\n\r\nimport { PRODUCT_TAB, REGION_TAB } from '../common/constants/tabs';\r\nimport Marks from './Marks';\r\n\r\nimport StationSelector from '../resources/station/station.selector';\r\nimport TabSelector from '../resources/tab/tab.selector';\r\n\r\nfunction TinyMap({ selectedByProductStations, selectedByRegionStations, activeTab }) {\r\n  return <YMaps>\r\n    <Map className={styles.map} defaultState={{ center:[19.441468, 17.496825], zoom: 2 }}>\r\n      { activeTab === PRODUCT_TAB && <Marks selectedStations={selectedByProductStations}/>}\r\n      { activeTab === REGION_TAB && <Marks selectedStations={selectedByRegionStations}/>}\r\n    </Map>\r\n  </YMaps>\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  selectedByProductStations: StationSelector.getSelectedByProductStations(state),\r\n  selectedByRegionStations: StationSelector.getSelectedByRegionStations(state),\r\n  activeTab: TabSelector.getActiveTab(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(TinyMap);","export const BASE_URL = 'https://stormy-brook-68283.herokuapp.com';","import axios from 'axios';\r\nimport { BASE_URL } from '../common/constants/baseURL';\r\n\r\nconst api = axios.create({\r\n    baseURL: BASE_URL,\r\n    timeout: 2000,\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    }\r\n  });\r\n\r\nexport default api;","import baseApi from './base.api';\r\n\r\nclass ProductApi {\r\n  getAllProducts = async () => {\r\n    return baseApi.get('/product');\r\n  };\r\n}\r\n\r\nexport default new ProductApi();","export const SWITCH_ON_PRODUCT_TABLE_VISIBILITY = 'SWITCH_ON_PRODUCT_TABLE_VISIBILITY';\r\n\r\nexport const PUSH_SELECTED_PRODUCT_ID = 'PUSH_SELECTED_PRODUCT_ID';\r\n\r\nexport const INC_PRODUCT_COLOR_INDEX = 'INC_PRODUCT_COLOR_INDEX';","import {\r\n  SWITCH_ON_PRODUCT_TABLE_VISIBILITY,\r\n  PUSH_SELECTED_PRODUCT_ID,\r\n  INC_PRODUCT_COLOR_INDEX,\r\n} from './product.types';\r\n\r\nconst ProductActions = {\r\n  switchOnProductTableVisibility: () => dispatch => dispatch({ type: SWITCH_ON_PRODUCT_TABLE_VISIBILITY }),\r\n\r\n  pushSelectedProductId: productId => dispatch => dispatch({ type: PUSH_SELECTED_PRODUCT_ID, productId}),\r\n\r\n  incProductColorIndex: predIndex => dispatch => dispatch({ type: INC_PRODUCT_COLOR_INDEX, colorIndex: predIndex + 1 })\r\n};\r\n\r\nexport default ProductActions;","const ProductSelector = {\r\n  getProductTableVisibility: state => state.product.productTableVisibility,\r\n\r\n  getSelectedProductIds: state => state.product.selectedProductIds,\r\n\r\n  getNextProductColorIndex: state => state.product.nextProductColorIndex,\r\n};\r\n\r\nexport default ProductSelector;","const UserSelector = {\r\n  getCurrentUser: state => state.user.currentUser,\r\n};\r\n\r\nexport default UserSelector;","export const PUSH_SELECTED_BY_PRODUCT_STATIONS = 'PUSH_SELECTED_BY_PRODUCT_STATIONS';\r\nexport const PUSH_SELECTED_BY_REGION_STATIONS = 'PUSH_SELECTED_BY_REGION_STATIONS';","import {\r\n  PUSH_SELECTED_BY_PRODUCT_STATIONS,\r\n  PUSH_SELECTED_BY_REGION_STATIONS,\r\n} from './station.types';\r\nimport { BASE_URL } from '../../common/constants/baseURL';\r\n\r\nconst StationActions = {\r\n  pushSelectedByProductStations: (productId, currentUser, colorForMap) => dispatch => \r\n    fetch(`${BASE_URL}/station/product/${productId}/${currentUser._id}`, {\r\n      method: 'GET',\r\n      headers: { 'Content-Type': 'application/json' },\r\n    })\r\n    .then(response => response.json())\r\n    .then(stationsData => dispatch({\r\n      type: PUSH_SELECTED_BY_PRODUCT_STATIONS,\r\n      stationsData: stationsData.map(station => {\r\n        station.colorForMap = colorForMap;\r\n        return station;\r\n      }),\r\n    })),\r\n\r\n  pushSelectedByRegionStations: (regionId, currentUser, colorForMap) => dispatch => \r\n    fetch(`${BASE_URL}/station/region/${regionId}/${currentUser._id}`, {\r\n      method: 'GET',\r\n      headers: { 'Content-Type': 'application/json' },\r\n    })\r\n    .then(response => response.json())\r\n    .then(stationsData => dispatch({\r\n      type: PUSH_SELECTED_BY_REGION_STATIONS,\r\n      stationsData: stationsData.map(station => {\r\n        station.colorForMap = colorForMap;\r\n        return station;\r\n      }),\r\n    })),\r\n};\r\n\r\nexport default StationActions;","import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport 'antd/dist/antd.css';\r\nimport '../common/components/tableConfig/table.css';\r\nimport { Input, AutoComplete } from 'antd';\r\nimport ProductApi from '../api/product.api';\r\nimport ProductActions from '../resources/product/product.actions';\r\nimport ProductSelector from '../resources/product/product.selector';\r\nimport UserSelector from '../resources/user/user.selector';\r\nimport StationActions from '../resources/station/station.actions';\r\n\r\nfunction ProductSearch({\r\n  selectedProductIds,\r\n  currentUser,\r\n  nextProductColor,\r\n  incNextProductColor,\r\n  switchOnProductTableVisibility,\r\n  pushSelectedProductIds,\r\n  pushSelectedByProductStations,\r\n}) {\r\n  const [productsInSearch, setProductsInSearch] = useState([]);\r\n  const [allProducts, setAllProducts] = useState([]);\r\n  const [selectedValue, setSelectedValue] = useState('');\r\n\r\n  useEffect(() => {\r\n    const fetchProducts = async () => {\r\n      const productsData = await ProductApi.getAllProducts();\r\n      const productsForSearch = productsData.data.map(product => {\r\n        return {\r\n          value: product._id,\r\n          label: product.name,\r\n        }\r\n      });\r\n      setAllProducts(productsForSearch);\r\n      setProductsInSearch(productsForSearch);\r\n    };\r\n    fetchProducts();\r\n  }, []);\r\n\r\n  const onSelect = productId => {\r\n    if (productId && !selectedProductIds.includes(productId)) {\r\n      pushSelectedByProductStations(productId, currentUser, nextProductColor);\r\n      switchOnProductTableVisibility();\r\n      pushSelectedProductIds(productId);\r\n      incNextProductColor(nextProductColor);\r\n    }\r\n  };\r\n\r\n  const onSearch = productName => {\r\n    setSelectedValue(productName);\r\n    const newProducts = allProducts.filter((product) => \r\n      product.label.toString().toLowerCase().indexOf(productName.toString().toLowerCase()) > -1\r\n    );\r\n    setProductsInSearch(newProducts);\r\n  };\r\n\r\n  return <div className=\"site-input-group-wrapper\">\r\n    <AutoComplete\r\n      dropdownMatchSelectWidth={252}\r\n      style={{\r\n        width: 300,\r\n      }}\r\n      options={productsInSearch}\r\n      onSelect={onSelect}\r\n      onSearch={onSearch}\r\n      value={selectedValue}\r\n    >\r\n      <Input.Search size=\"large\" placeholder=\"название продукта\" enterButton />\r\n    </AutoComplete>\r\n  </div>\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  selectedProductIds: ProductSelector.getSelectedProductIds(state),\r\n  nextProductColor: ProductSelector.getNextProductColorIndex(state),\r\n\r\n  currentUser: UserSelector.getCurrentUser(state),\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  switchOnProductTableVisibility: ProductActions.switchOnProductTableVisibility,\r\n  pushSelectedProductIds: ProductActions.pushSelectedProductId,\r\n  incNextProductColor: ProductActions.incProductColorIndex,\r\n\r\n  pushSelectedByProductStations: StationActions.pushSelectedByProductStations,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductSearch)","import baseApi from './base.api';\r\n\r\nclass StationApi {\r\n  postNewStation = async newStationData => {\r\n    return baseApi.post('/station', newStationData);\r\n  };\r\n\r\n  putStationDone = async ({ stationId, currentUser, done }) => {\r\n    return (await baseApi.put(`/station/${stationId}/${currentUser._id}/done`, { done })).data.stationDone;\r\n  };\r\n}\r\n\r\nexport default new StationApi();","const Guest = {\r\n    _id: '6103dfdc5b78f439334b5825',\r\n    name: 'Гость',\r\n};\r\n\r\nexport default Guest;","import { Switch } from \"antd\";\r\nimport { connect } from 'react-redux';\r\nimport UserSelector from '../../../resources/user/user.selector';\r\nimport StationApi from '../../../api/station.api';\r\nimport Guest from \"../../constants/defaultUser\";\r\n\r\nfunction DoneSwitch({ station, currentUser }) {\r\n  function onChange(checked) {\r\n    StationApi.putStationDone({\r\n      stationId: station.stationId,\r\n      currentUser,\r\n      done: checked,\r\n    });\r\n  }\r\n\r\n  if (currentUser === Guest) {\r\n    return <div></div>\r\n  }\r\n  if (station.done) {\r\n    return <Switch onChange={onChange} defaultChecked/>\r\n  }\r\n  return <Switch onChange={onChange} />\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  currentUser: UserSelector.getCurrentUser(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(DoneSwitch);","import StationDoneSwitch from \"./StationDoneSwitch\";\r\n\r\nconst tableColumns = [\r\n  {\r\n    title: 'Product Name',\r\n    dataIndex: 'productName',\r\n    sorter: (a, b) => {\r\n      if (a.productName > b.productName) {\r\n        return 1;\r\n      }\r\n      return -1;\r\n    },\r\n  },\r\n  {\r\n    title: 'Station Name',\r\n    dataIndex: 'stationName',\r\n  },\r\n  {\r\n    title: 'Need Count',\r\n    dataIndex: 'needCount',\r\n    defaultSortOrder: 'descend',\r\n    sorter: (a, b) => a.needCount - b.needCount,\r\n  },\r\n  {\r\n    title: 'Done',\r\n    render: station => <StationDoneSwitch station={station} />\r\n  },\r\n  {\r\n    title: 'region',\r\n    dataIndex: 'region',\r\n    sorter: (a, b) => {\r\n      if (a.region > b.region) {\r\n        return 1;\r\n      }\r\n      return -1;\r\n    },\r\n  },\r\n];\r\n\r\nexport default tableColumns;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport StationSelector from '../resources/station/station.selector';\r\nimport 'antd/dist/antd.css';\r\nimport { Table } from 'antd';\r\nimport tableColumns from '../common/components/tableConfig/tableColumns';\r\n\r\nfunction ProductTable({ selectedByProductStations }) {\r\n  return <Table\r\n    columns={tableColumns}\r\n    dataSource={selectedByProductStations}\r\n    size=\"middle\"\r\n  />;\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  selectedByProductStations: StationSelector.getSelectedByProductStations(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(ProductTable);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport ProductSearch from './ProductSearch';\r\nimport ProductTable from './ProductTable';\r\nimport styles from '../styles.module.css';\r\nimport ProductSelector from '../resources/product/product.selector';\r\n\r\nfunction ProductChoice({ productTableVisability }) {\r\n  return <div>\r\n    <ProductSearch />\r\n    { productTableVisability && \r\n      <ProductTable\r\n        className={styles.table}\r\n      /> }\r\n  </div>\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  productTableVisability: ProductSelector.getProductTableVisibility(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(ProductChoice);","import baseApi from './base.api';\r\n\r\nclass RegionApi {\r\n  getAllRegions = async () => {\r\n    return baseApi.get('/region');\r\n  };\r\n}\r\n\r\nexport default new RegionApi();","export const SWITCH_ON_REGION_TABLE_VISIBILITY = 'SWITCH_ON_REGION_TABLE_VISIBILITY';\r\n\r\nexport const PUSH_SELECTED_REGIONS_ID = 'PUSH_SELECTED_REGIONS_ID';\r\n\r\nexport const INC_REGION_COLOR_INDEX = 'INC_REGION_COLOR_INDEX';","import {\r\n  SWITCH_ON_REGION_TABLE_VISIBILITY,\r\n  PUSH_SELECTED_REGIONS_ID,\r\n  INC_REGION_COLOR_INDEX,\r\n} from './region.types';\r\n\r\nconst RegionActions = {\r\n  switchOnRegionTableVisibility: () => dispatch => dispatch({ type: SWITCH_ON_REGION_TABLE_VISIBILITY }),\r\n\r\n  pushSelectedRegionId: regionId => dispatch => dispatch({ type: PUSH_SELECTED_REGIONS_ID, regionId}),\r\n\r\n  incRegionColorIndex: predIndex => dispatch => dispatch({ type: INC_REGION_COLOR_INDEX, colorIndex: predIndex + 1 }),\r\n};\r\n\r\nexport default RegionActions;","const RegionSelector = {\r\n    getRegionTableVisibility: state => state.region.regionTableVisibility,\r\n  \r\n    getSelectedRegionIds: state => state.region.selectedRegionIds,\r\n\r\n    getNextRegionColorIndex: state => state.region.nextRegionColorIndex,\r\n  };\r\n  \r\n  export default RegionSelector;","import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport 'antd/dist/antd.css';\r\nimport '../common/components/tableConfig/table.css';\r\nimport { Input, AutoComplete } from 'antd';\r\nimport RegionApi from '../api/region.api';\r\nimport RegionActions from '../resources/region/region.actions';\r\nimport RegionSelector from '../resources/region/region.selector';\r\nimport UserSelector from '../resources/user/user.selector';\r\nimport StationActions from '../resources/station/station.actions';\r\n\r\nfunction RegionSearch({\r\n  selectedRegionIds,\r\n  currentUser,\r\n  nextRegionColor,\r\n  incProductColorIndex,\r\n  switchOnRegionTableVisibility,\r\n  pushSelectedRegionIds,\r\n  pushSelectedByRegionStations,\r\n}) {\r\n  const [regionsInSearch, setRegionsInSearch] = useState([]);\r\n  const [allRegions, setAllRegions] = useState([]);\r\n  const [selectedValue, setSelectedValue] = useState('');\r\n\r\n  useEffect(() => {\r\n    const fetchRegions = async () => {\r\n      const regionsData = await RegionApi.getAllRegions();\r\n      const regionsForSearch = regionsData.data.map(region => {\r\n        return {\r\n          value: region._id,\r\n          label: region.name,\r\n        }\r\n      });\r\n      setAllRegions(regionsForSearch);\r\n      setRegionsInSearch(regionsForSearch);\r\n    }\r\n    fetchRegions();\r\n  }, []);\r\n\r\n  const onSelect = regionId => {\r\n    if (regionId && !selectedRegionIds.includes(regionId)) {\r\n      pushSelectedByRegionStations(regionId, currentUser, nextRegionColor);\r\n      switchOnRegionTableVisibility();\r\n      pushSelectedRegionIds(regionId);\r\n      incProductColorIndex(nextRegionColor);\r\n    }\r\n    console.log({ selectedRegionIds });\r\n  };\r\n\r\n  const onSearch = regionName => {\r\n    setSelectedValue(regionName);\r\n    const newRegions = allRegions.filter((region) => \r\n      region.label.toString().toLowerCase().indexOf(regionName.toString().toLowerCase()) > -1\r\n    );\r\n    setRegionsInSearch(newRegions);\r\n  };\r\n\r\n  return <div className=\"site-input-group-wrapper\">\r\n    <AutoComplete\r\n      dropdownMatchSelectWidth={252}\r\n      style={{\r\n        width: 300,\r\n      }}\r\n      options={regionsInSearch}\r\n      onSelect={onSelect}\r\n      onSearch={onSearch}\r\n      value={selectedValue}\r\n    >\r\n      <Input.Search size=\"large\" placeholder=\"название региона\" enterButton />\r\n    </AutoComplete>\r\n  </div>\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  selectedRegionIds: RegionSelector.getSelectedRegionIds(state),\r\n  nextRegionColor: RegionSelector.getNextRegionColorIndex(state),\r\n\r\n  currentUser: UserSelector.getCurrentUser(state),\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  switchOnRegionTableVisibility: RegionActions.switchOnRegionTableVisibility,\r\n  pushSelectedRegionIds: RegionActions.pushSelectedRegionId,\r\n  incProductColorIndex: RegionActions.incRegionColorIndex,\r\n\r\n  pushSelectedByRegionStations: StationActions.pushSelectedByRegionStations,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(RegionSearch)","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport StationSelector from '../resources/station/station.selector';\r\nimport 'antd/dist/antd.css';\r\nimport { Table } from 'antd';\r\nimport tableColumns from '../common/components/tableConfig/tableColumns';\r\n\r\nfunction RegionTable({ selectedByRegionStations }) {\r\n  return <Table\r\n    columns={tableColumns}\r\n    dataSource={selectedByRegionStations}\r\n    size=\"middle\"\r\n  />;\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  selectedByRegionStations: StationSelector.getSelectedByRegionStations(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(RegionTable);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport RegionSearch from './RegionSearch';\r\nimport RegionTable from './RegionTable';\r\nimport styles from '../styles.module.css';\r\nimport RegionSelector from '../resources/region/region.selector';\r\n\r\nfunction RegionChoice({ regionTableVisability }) {\r\n  return <div>\r\n    <RegionSearch />\r\n    { regionTableVisability && \r\n      <RegionTable\r\n        className={styles.table}\r\n      /> }\r\n  </div>\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    regionTableVisability: RegionSelector.getRegionTableVisibility(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(RegionChoice);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Guest from '../common/constants/defaultUser';\r\nimport { Form, Input, Button, Select, Switch, Typography } from 'antd';\r\nimport StationApi from '../api/station.api';\r\nimport UserSelector from '../resources/user/user.selector';\r\n\r\nfunction NewStation({ currentUser }){\r\n  \r\n  const onFinish = async newStationData => {\r\n    newStationData.userId = currentUser._id;\r\n    await StationApi.postNewStation(newStationData);\r\n  };\r\n\r\n  const onFinishFailed = errorInfo => {\r\n    console.log('Failed:', errorInfo);\r\n  };\r\n\r\n  return <Form \r\n    labelCol={{ span: 7 }}\r\n    wrapperCol={{ span: 14 }}\r\n    layout=\"horizontal\"\r\n    onFinish={onFinish}\r\n    onFinishFailed={onFinishFailed}>\r\n\r\n    <Form.Item label=\"Продукт\" name=\"productName\">\r\n      <Input />\r\n    </Form.Item>\r\n\r\n    <Form.Item label=\"Станция\" name=\"stationName\">\r\n      <Input />\r\n    </Form.Item>\r\n\r\n    <Form.Item label=\"Координаты\" name=\"place\">\r\n      <Input />\r\n    </Form.Item>\r\n\r\n    <Form.Item label=\"Регион\" name=\"region\">\r\n      <Input />\r\n    </Form.Item>\r\n\r\n    <Form.Item label=\"Сколько нужно\" name=\"needCount\">\r\n      <Select>\r\n        <Select.Option value={25}>25</Select.Option>\r\n        <Select.Option value={50}>50</Select.Option>\r\n        <Select.Option value={150}>150</Select.Option>\r\n        <Select.Option value={350}>350</Select.Option>\r\n        <Select.Option value={1000}>1000</Select.Option>\r\n      </Select>\r\n    </Form.Item>\r\n\r\n    <Form.Item label=\"Выполнено\" name=\"done\" valuePropName=\"checked\">\r\n      { currentUser._id !== Guest._id ? <Switch /> : <Typography.Text>Пожалуйста, войтите :)</Typography.Text> }\r\n    </Form.Item>\r\n\r\n    <Form.Item wrapperCol={{span: 14, offset: 7}}>\r\n      <Button type=\"primary\" htmlType=\"submit\">\r\n      Добавить\r\n      </Button>\r\n    </Form.Item>\r\n\r\n  </Form>\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  currentUser: UserSelector.getCurrentUser(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(NewStation);\r\n","export const SET_CURRENT_USER = 'SET_CURRENT_USER';","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Avatar, Button } from 'antd';\r\nimport UserActions from '../resources/user/user.actions';\r\nimport UserSelector from '../resources/user/user.selector';\r\n\r\nfunction User({ currentUser, setCurrentUser }) {\r\n  const changeUser = () => {\r\n    setCurrentUser('60e06fe6ad2cc121d81eb19a'); // Тонечка\r\n  };\r\n\r\n  return <div style={{\r\n      display: 'inline-block',\r\n      'flexFlow': 'column wrap',\r\n      float: 'right',\r\n    }}>\r\n    <Button size=\"small\" onClick={changeUser}\r\n      style={{\r\n        verticalAlign: 'middle',\r\n        margin: '5px',\r\n        border: 'none',\r\n      }}>\r\n      Сменить власть\r\n    </Button>\r\n    <Avatar size={50} style={{\r\n        backgroundColor: '#1890ff',\r\n        verticalAlign: 'middle'\r\n      }}>\r\n        {currentUser ? currentUser.name : 'Гость'}\r\n    </Avatar>\r\n    \r\n  </div>\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  currentUser: UserSelector.getCurrentUser(state),\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  setCurrentUser: UserActions.setCurrentUser,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(User)","import { SET_CURRENT_USER } from './user.types';\r\nimport { BASE_URL } from '../../common/constants/baseURL';\r\n\r\nconst UserActions = {\r\n  setCurrentUser: id => dispatch => \r\n    fetch(`${BASE_URL}/user/${id}`, {\r\n      method: 'GET',\r\n      headers: { 'Content-Type': 'application/json' },\r\n    })\r\n    .then(response => response.json())\r\n    .then(currentUser => dispatch({ type: SET_CURRENT_USER, currentUser })),\r\n};\r\n\r\nexport default UserActions;","import React from 'react';\r\n\r\nexport default function Logo() {\r\n  return <h1 style={{\r\n    color: '#2B90EE',\r\n    height: '100%',\r\n    width: '30%',\r\n    float: 'left',\r\n  }}> Tiny-map </h1>\r\n}\r\n","import React from 'react';\r\nimport User from './User';\r\nimport Logo from './Logo'\r\n\r\nexport default function Header() {\r\n  return <div style={{ \r\n    width: '100%',\r\n    height: '45px',\r\n    justifyContent: 'space-between',\r\n    display: 'flex',\r\n  }}>\r\n    <Logo />\r\n    <User />\r\n  </div>\r\n};\r\n","export const CHANGE_ACTIVE_TAB = 'CHANGE_ACTIVE_TAB';","import {\r\n  CHANGE_ACTIVE_TAB,\r\n} from './tab.types';\r\n\r\nconst TabActions = {\r\n  changeActiveTab: newActiveTabKey => dispatch => dispatch({ type: CHANGE_ACTIVE_TAB, newActiveTabKey }),\r\n};\r\n\r\nexport default TabActions;","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Tabs } from 'antd';\nimport styles from './styles.module.css';\nimport { \n  PRODUCT_TAB,\n  REGION_TAB,\n  CREATE_STATION_TAB,\n} from './common/constants/tabs';\nimport TinyMap from './map/TinyMap';\nimport ProductChoice from './productChoice/ProductChoice';\nimport RegionChoice from './regionChoice/RegionChoice';\nimport NewStation from './newStation/NewStation';\nimport Header from './Header/Header';\n\nimport TabActions from './resources/tab/tab.actions';\n\nconst { TabPane } = Tabs;\n\nfunction App({ changeActiveTab }) {\n  const tabChange = (key) => {\n    changeActiveTab(key);\n  };\n\n  return (\n    <div className={styles.app}>\n      <TinyMap />\n      <div className={styles.menu}>\n        <Header />\n        <Tabs defaultActiveKey=\"1\" onChange={tabChange} style={{ margin: '0px'}}>\n          <TabPane tab=\"По продуктам\" key={PRODUCT_TAB}>\n            <ProductChoice />\n          </TabPane>\n          <TabPane tab=\"По регионам\" key={REGION_TAB}>\n            <RegionChoice />\n          </TabPane>\n          <TabPane tab=\"Добавить новую станцию\" key={CREATE_STATION_TAB}>\n            <NewStation/>\n          </TabPane>\n        </Tabs>\n      </div>\n    </div>\n  );\n};\n\nconst mapDispatchToProps = {\n  changeActiveTab: TabActions.changeActiveTab,\n};\n\nexport default connect(null, mapDispatchToProps)(App);\n","import Guest from \"../../common/constants/defaultUser\";\r\nimport { SET_CURRENT_USER } from \"./user.types\";\r\n\r\nconst initialState = {\r\n  currentUser: Guest,\r\n}\r\n\r\nconst userReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_CURRENT_USER: {\r\n      return {\r\n        ...state,\r\n        currentUser: action.currentUser,\r\n      };\r\n    }\r\n    default: \r\n      return state;\r\n  }\r\n};\r\n\r\nexport default userReducer;","import {\r\n  SWITCH_ON_PRODUCT_TABLE_VISIBILITY,\r\n  PUSH_SELECTED_PRODUCT_ID,\r\n  INC_PRODUCT_COLOR_INDEX,\r\n} from './product.types';\r\n\r\nconst initialState = {\r\n  productTableVisibility: false,\r\n  selectedProductIds: [],\r\n  nextProductColorIndex: 0,\r\n}\r\n\r\nconst productReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SWITCH_ON_PRODUCT_TABLE_VISIBILITY: \r\n      return {\r\n        ...state,\r\n        productTableVisibility: true,\r\n      };\r\n    \r\n    case PUSH_SELECTED_PRODUCT_ID: \r\n      return {\r\n        ...state,\r\n        selectedProductIds: [\r\n          ...state.selectedProductIds,\r\n          action.productId,\r\n        ]\r\n      };\r\n    \r\n    case INC_PRODUCT_COLOR_INDEX:\r\n      return {\r\n        ...state,\r\n        nextProductColorIndex: action.colorIndex,\r\n      }\r\n    default: \r\n      return state;\r\n  }\r\n};\r\n\r\nexport default productReducer;","import {\r\n  SWITCH_ON_REGION_TABLE_VISIBILITY,\r\n  PUSH_SELECTED_REGIONS_ID,\r\n  INC_REGION_COLOR_INDEX,\r\n} from './region.types';\r\n\r\nconst initialState = {\r\n  regionTableVisibility: false,\r\n  selectedRegionIds: [],\r\n  nextRegionColorIndex: 0,\r\n}\r\n\r\nconst regionReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SWITCH_ON_REGION_TABLE_VISIBILITY: \r\n      return {\r\n        ...state,\r\n        regionTableVisibility: true,\r\n      };\r\n\r\n    case PUSH_SELECTED_REGIONS_ID: \r\n      return {\r\n        ...state,\r\n        selectedRegionIds: [\r\n          ...state.selectedRegionIds,\r\n          action.regionId,\r\n        ]\r\n      };\r\n\r\n    case INC_REGION_COLOR_INDEX:\r\n      return {\r\n        ...state,\r\n        nextRegionColorIndex: action.colorIndex,\r\n      };\r\n\r\n    default: \r\n      return state;\r\n  }\r\n};\r\n\r\nexport default regionReducer;","import {\r\n  PUSH_SELECTED_BY_PRODUCT_STATIONS,\r\n  PUSH_SELECTED_BY_REGION_STATIONS,\r\n} from './station.types';\r\n\r\nconst initialState = {\r\n  selectedByProductStations: [],\r\n  selectedByRegionStations: [],\r\n};\r\n\r\nconst StationReducer = (state = initialState, action) => {\r\n  switch(action.type) {\r\n    case PUSH_SELECTED_BY_PRODUCT_STATIONS:\r\n      return {\r\n        ...state,\r\n        selectedByProductStations: [\r\n          ...state.selectedByProductStations,\r\n          ...action.stationsData,\r\n        ],\r\n      };\r\n    case PUSH_SELECTED_BY_REGION_STATIONS:\r\n      return {\r\n        ...state,\r\n        selectedByRegionStations: [\r\n          ...state.selectedByRegionStations,\r\n          ...action.stationsData,\r\n        ]\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default StationReducer;","import {\r\n  CHANGE_ACTIVE_TAB,\r\n} from './tab.types';\r\nimport {\r\n  PRODUCT_TAB,\r\n} from '../../common/constants/tabs';\r\n\r\nconst initialState = {\r\n  activeTab: PRODUCT_TAB,\r\n};\r\n\r\nconst tabReducer = (state = initialState, action) => {\r\n  switch(action.type) {\r\n    case CHANGE_ACTIVE_TAB:\r\n      return {\r\n        ...state,\r\n        activeTab: action.newActiveTabKey,\r\n      };\r\n    default:\r\n      return state;\r\n  };\r\n};\r\n\r\nexport default tabReducer;\r\n","import { createStore, combineReducers, applyMiddleware} from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport thunk from 'redux-thunk';\r\nimport userReducer from './user/user.reducer';\r\nimport productReducer from './product/product.reducer';\r\nimport regionReducer from './region/region.reducer';\r\nimport stationReducer from './station/station.reducer';\r\nimport tabReducer from './tab/tab.reducer';\r\n\r\nconst reducers = combineReducers({\r\n  user: userReducer,\r\n  product: productReducer,\r\n  region: regionReducer,\r\n  station: stationReducer,\r\n  tab: tabReducer,\r\n});\r\nconst store = createStore(\r\n  reducers,\r\n  composeWithDevTools(applyMiddleware(thunk))\r\n);\r\n\r\nexport default store;","import React from 'react';\nimport { Provider } from 'react-redux';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport store from './resources/store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n    <style>{'#root {width: 100%} '}</style>\n  </Provider>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"styles_app__2MKbF\",\"map\":\"styles_map__tTZXH\",\"menu\":\"styles_menu__2uBzr\",\"table\":\"styles_table__3ijJi\",\"username\":\"styles_username__39I6e\"};"],"sourceRoot":""}